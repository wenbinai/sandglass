# 变更日志

| 类型 | 说明 |
|:----|:----|
| A | 新增 |
| U | 更新 |
| D | 删除 |
| T | 测试 |
| O | 优化 |
| F | 修复BUG |

# release_0.0.1

| 序号 | 变更类型 | 说明 | 时间 | 备注 |
|:---|:---|:---|:---|:--|
| 1 | A | 基本功能的实现 | 2021-12-06 13:55:32 | |

# release_0.0.2

| 序号 | 变更类型 | 说明 | 时间 | 备注 |
|:---|:---|:---|:---|:--|
| 1 | A | cron 表达式的实现 | 2021-12-07 13:55:32 | |

# release_0.0.3

| 序号 | 变更类型 | 说明 | 时间 | 备注 |
|:---|:---|:---|:---|:--|
| 1 | A | Trigger#endTime/startTime 实现 | 2021-12-08 13:55:32 | |
| 2 | O | lock 机制优化 | 2021-12-08 13:55:32 | |
| 3 | A | periodSchedule 实现 | 2021-12-08 13:55:32 | |

# release_0.0.4

| 序号 | 变更类型 | 说明 | 时间 | 备注 |
|:---|:---|:---|:---|:--|
| 1 | A | Listener 实现 | 2021-12-09 13:55:32 | |
| 2 | O | Store 优化 | 2021-12-09 13:55:32 | |

# release_0.0.5

| 序号 | 变更类型 | 说明 | 时间 | 备注 |
|:---|:---|:---|:---|:--|
| 1 | A | spring 整合实现 | 2021-12-11 13:55:32 | |
| 2 | F | 修正循环等待策略 | 2021-12-11 13:55:32 | 保证后续插入的任务，可以被正确执行 |


# release_0.0.6

| 序号 | 变更类型 | 说明 | 时间 | 备注 |
|:---|:---|:---|:---|:--|
| 1 | A | springboot 整合实现 | 2021-12-12 13:55:32 | |


# release_0.0.7

| 序号 | 变更类型 | 说明 | 时间 | 备注 |
|:---|:---|:---|:---|:--|
| 1 | A | outOfDate 策略实现 | 2021-12-13 13:55:32 | |

# release_0.0.8

| 序号 | 变更类型 | 说明 | 时间 | 备注 |
|:---|:---|:---|:---|:--|
| 1 | A | 是否允许并发执行处理 | 2021-12-14 21:55:32 | |
| 2 | F | 暂停任务的优化 | 2021-12-14 21:55:32 | |

# release_0.0.9

| 序号 | 变更类型 | 说明 | 时间 | 备注 |
|:---|:---|:---|:---|:--|
| 1 | A | 任务执行日志 | 2021-12-14 21:55:32 | |
| 2 | F | 修复并发执行未及时返回问题 | 2021-12-14 21:55:32 | |

# release_1.0.0

| 序号 | 变更类型 | 说明 | 时间 | 备注 |
|:---|:---|:---|:---|:--|
| 1 | O | 任务与详情拆分 | 2021-12-16 21:55:32 | |
| 2 | O | 触发器与详情拆分 | 2021-12-16 21:55:32 | |

# release_1.1.0

| 序号 | 变更类型 | 说明 | 时间 | 备注 |
|:---|:---|:---|:---|:--|
| 1 | O | 类定义优化 | 2021-12-16 21:55:32 | |
| 2 | O | 优化 scheduler 接口 | 2021-12-16 21:55:32 | |

# release_1.2.0

| 序号 | 变更类型 | 说明 | 时间 | 备注 |
|:---|:---|:---|:---|:--|
| 1 | A | 添加 appName+envName+machineIp 特性 | 2021-12-18 21:55:32 | |
| 2 | O | 优化 toString 方法 | 2021-12-16 21:55:32 | |

# release_1.3.0

| 序号 | 变更类型 | 说明 | 时间 | 备注 |
|:---|:---|:---|:---|:--|
| 1 | A | 添加 machinePort 特性 | 2021-12-18 21:55:32 | |
| 2 | O | 优化 triggerId 属性 | 2021-12-18 21:55:32 | |

# release_1.3.1

| 序号 | 变更类型 | 说明 | 时间 | 备注 |
|:---|:---|:---|:---|:--|
| 1 | F | 修正 scheduler#unSchedule 方法 | 2021-12-19 21:55:32 | |
| 2 | D | 移除 ITaskLogStore#list 方法 | 2021-12-19 21:55:32 | |
| 3 | O | 更新 heaven 版本 | 2021-12-19 21:55:32 | |
| 4 | O | dto 调整为 getter/setter，便于 rpc 编写 | 2021-12-19 21:55:32 | |


# release_1.3.2

| 序号 | 变更类型 | 说明 | 时间 | 备注 |
|:---|:---|:---|:---|:--|
| 1 | U | order/differTime 等字段优化 | 2021-12-19 21:55:32 | |
| 2 | O | 添加抽象类实现 | 2021-12-19 21:55:32 | |

# release_1.4.0

| 序号 | 变更类型 | 说明 | 时间 | 备注 |
|:---|:---|:---|:---|:--|
| 1 | A | 添加 job 和 trigger 对应的映射管理 | 2021-12-29 21:55:32 | |

# release_1.4.1

| 序号 | 变更类型 | 说明 | 时间 | 备注 |
|:---|:---|:---|:---|:--|
| 1 | A | 添加 SandglassBs#pause | 2021-12-29 21:55:32 | |
| 2 | A | 添加 SandglassBs#resume | 2021-12-29 21:55:32 | |
| 3 | A | 添加 SandglassBs#unSchedule | 2021-12-29 21:55:32 | |

# release_1.4.2

| 序号 | 变更类型 | 说明 | 时间 | 备注 |
|:---|:---|:---|:---|:--|
| 1 | O | 优化 SandglassBs#pause | 2021-12-29 21:55:32 | |
| 2 | O | 优化 SandglassBs#resume | 2021-12-29 21:55:32 | |
| 3 | O | 优化 SandglassBs#unSchedule | 2021-12-29 21:55:32 | |
| 4 | A | 新增 SandglassBs#jobAndTriggerDetailList | 2021-12-29 21:55:32 | |

# release_1.4.3

| 序号 | 变更类型 | 说明 | 时间 | 备注 |
|:---|:---|:---|:---|:--|
| 1 | O | 依赖优化，便于 sandglass-socket 优化 | 2021-12-29 21:55:32 | |

# release_1.4.4

| 序号 | 变更类型 | 说明 | 时间 | 备注 |
|:---|:---|:---|:---|:--|
| 1 | O | 优化暂停的任务 | 2021-12-30 21:55:32 | |

# release_1.5.0

| 序号 | 变更类型 | 说明 | 时间 | 备注 |
|:---|:---|:---|:---|:--|
| 1 | U | 调整 jobId/triggerId 生成策略 | 2021-12-30 21:55:32 | 避免过长，数据库索引性能下降 |
| 2 | O | 优化 schedule#take 策略 | 2021-12-30 21:55:32 | 如果可以同时兼容本地的和远程？变 pull 为 push？ |
| 3 | A | 新增 schedule#getNextTakeTime 时间 | 2021-12-30 21:55:32 | 优化 take 策略，降低服务端压力 |

// 有一种方式：查询 server 端，可以把最近的一次时间返回。
// 不过存在一个问题，如果中途插入新的任务，可能会导致缺失。

// 可以添加一个类似 pause 的通知，将最新的执行时间，通知到所有的客户端。
// 如果没发生变化，就不需要通知。
